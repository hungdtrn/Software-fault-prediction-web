(this.webpackJsonpnew_client=this.webpackJsonpnew_client||[]).push([[0],{180:function(e,t){},215:function(e,t){},216:function(e,t){},217:function(e,t){},218:function(e,t){},246:function(e,t,r){e.exports=r(470)},255:function(e,t,r){},470:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"loginRequest",(function(){return k})),r.d(n,"loginStart",(function(){return C})),r.d(n,"loginError",(function(){return D})),r.d(n,"loginSuccess",(function(){return L})),r.d(n,"logout",(function(){return w})),r.d(n,"clearError",(function(){return A}));var a={};r.r(a),r.d(a,"registerRequest",(function(){return de})),r.d(a,"registerStart",(function(){return pe})),r.d(a,"registerError",(function(){return fe})),r.d(a,"registerSuccess",(function(){return Ee})),r.d(a,"clearError",(function(){return me}));var c={};r.r(c),r.d(c,"findAllRequest",(function(){return Je})),r.d(c,"findAllStart",(function(){return Ye})),r.d(c,"findAllSuccess",(function(){return Ge})),r.d(c,"findAllError",(function(){return Qe})),r.d(c,"findByIdRequest",(function(){return He})),r.d(c,"findByIdStart",(function(){return We})),r.d(c,"findByIdInArray",(function(){return ze})),r.d(c,"findByIdSuccess",(function(){return $e})),r.d(c,"findByIdError",(function(){return Ke})),r.d(c,"clearFindError",(function(){return Ve})),r.d(c,"createRequest",(function(){return Xe})),r.d(c,"createStart",(function(){return Ze})),r.d(c,"createSuccess",(function(){return et})),r.d(c,"createError",(function(){return tt})),r.d(c,"clearCreate",(function(){return rt})),r.d(c,"deleteRequest",(function(){return nt})),r.d(c,"deleteStart",(function(){return at})),r.d(c,"deleteSuccess",(function(){return ct})),r.d(c,"deleteError",(function(){return ot})),r.d(c,"clearDelete",(function(){return lt}));var o={};r.r(o),r.d(o,"findByIdRequest",(function(){return Nt})),r.d(o,"findByIdStart",(function(){return Ut})),r.d(o,"findByIdError",(function(){return qt})),r.d(o,"findByIdSuccess",(function(){return Mt})),r.d(o,"clearFindError",(function(){return Jt})),r.d(o,"predictByIdRequest",(function(){return Yt})),r.d(o,"predictByIdStart",(function(){return Gt})),r.d(o,"predictByIdError",(function(){return Ht})),r.d(o,"predictByIdSuccess",(function(){return Qt})),r.d(o,"clearPredict",(function(){return Wt}));var l={};r.r(l),r.d(l,"findAllRequest",(function(){return ir})),r.d(l,"findAllStart",(function(){return ur})),r.d(l,"findAllError",(function(){return pr})),r.d(l,"findAllSuccess",(function(){return dr})),r.d(l,"clearFindError",(function(){return fr})),r.d(l,"findByIdRequest",(function(){return Er})),r.d(l,"findByIdStart",(function(){return mr})),r.d(l,"findByIdError",(function(){return br})),r.d(l,"findByIdSuccess",(function(){return hr})),r.d(l,"clearFindById",(function(){return Or})),r.d(l,"createRequest",(function(){return gr})),r.d(l,"createStart",(function(){return jr})),r.d(l,"createError",(function(){return _r})),r.d(l,"createSuccess",(function(){return yr})),r.d(l,"clearCreate",(function(){return Rr})),r.d(l,"deleteByIdRequest",(function(){return vr})),r.d(l,"deleteStart",(function(){return xr})),r.d(l,"deleteError",(function(){return Tr})),r.d(l,"deleteSuccess",(function(){return Sr})),r.d(l,"clearDelete",(function(){return Ir}));var s={};r.r(s),r.d(s,"login",(function(){return V})),r.d(s,"register",(function(){return ye})),r.d(s,"project",(function(){return Tt})),r.d(s,"file",(function(){return ar})),r.d(s,"model",(function(){return Wr}));var i=r(0),u=r.n(i),d=r(6),p=r.n(d),f=r(29),E=r(32),m=(r(255),r(471)),b=r(71),h=r(23),O=r(24),g=r(26),j=r(25),_=r(27),y=r(94),R=r(56),v=r(475),x=r(478),T=r(7),S=r(91),I=r(51),k=function(e){return{type:"AUTH_LOGIN_REQUEST",payload:{user:e.user,remember:e.remember}}},C=function(){return{type:"AUTH_LOGIN_START"}},D=function(e){return{type:"AUTH_LOGIN_ERROR",payload:{error:e}}},L=function(e,t){return{type:"AUTH_LOGIN_SUCCESS",payload:{accessToken:e,remember:t}}},w=function(){return{type:"AUTH_LOGOUT"}},A=function(){return{type:"AUTH_LOGIN_CLEAR_ERROR"}},F=function(){var e=localStorage.getItem("accessToken");return e||(e=sessionStorage.getItem("accessToken")),e},P={loading:!1,accessToken:null,error:null},B=(r(180),r(9)),N=r.n(B),U=r(3),M=5e3,q=r(37),J=r(36),Y=function(e,t,r,n,a){var c={method:t,headers:G(n,a),body:"GET"!==t?a?r:JSON.stringify(r):null};return e="http://18.191.231.224:5000/api"+e,fetch(e,c).then((function(e){return function(e,t){return new Promise((function(r,n){e>=200&&e<300?t.then((function(e){return r(e)})):t.then((function(t){return n({status:e,response:t})}))}))}(e.status,e.json())}))};function G(e,t){var r={};return r=t?{}:{Accept:"application/json","Content-Type":"application/json"},e?Object(J.a)({},r,{Authorization:"Bearer "+e}):Object(J.a)({},r)}function Q(e){return H.apply(this,arguments)}function H(){return(H=Object(q.a)(N.a.mark((function e(t){var r,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,n=t.password,e.next=3,Y("/auth/login","POST",{username:r,password:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=N.a.mark($),z=N.a.mark(K);function $(e){var t,r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.c)(C());case 3:return n.next=5,Object(U.d)({response:Object(U.a)(Q,e.payload.user),timeout:Object(U.b)(M)});case 5:if(t=n.sent,r=t.response,!t.timeout){n.next=13;break}return n.next=11,Object(U.c)(D("Timeout"));case 11:n.next=20;break;case 13:if(!r.result){n.next=18;break}return n.next=16,Object(U.c)(L(r.result,e.payload.remember));case 16:n.next=20;break;case 18:return n.next=20,Object(U.c)(D(r.msg));case 20:n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(0),!n.t0.hasOwnProperty("response")){n.next=29;break}return n.next=27,Object(U.c)(D(n.t0.response.msg));case 27:n.next=31;break;case 29:return n.next=31,Object(U.c)(D(n.t0.toString()));case 31:case"end":return n.stop()}}),W,null,[[0,22]])}function K(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.e)("AUTH_LOGIN_REQUEST",$);case 2:case"end":return e.stop()}}),z)}var V=function(e,t){switch(t.type){case"AUTH_LOGIN_START":return Object.assign({},e,{loading:!0,accessToken:null,error:null});case"AUTH_LOGIN_SUCCESS":var r=t.payload,n=r.accessToken;return function(e,t){t?localStorage.setItem("accessToken",e):sessionStorage.setItem("accessToken",e)}(n,r.remember),Object.assign({},e,{error:null,loading:!1,accessToken:n});case"AUTH_LOGOUT":return localStorage.removeItem("accessToken"),sessionStorage.removeItem("accessToken"),Object.assign({},P);case"AUTH_LOGIN_ERROR":var a=t.payload.error;return Object.assign({},e,{error:a,loading:!1,accessToken:null});case"AUTH_LOGIN_CLEAR_ERROR":return Object.assign({},e,{error:null});default:return P}},X=r(477),Z=r(129),ee=u.a.createElement(T.a,{type:"loading",style:{fontSize:24},spin:!0}),te=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(X.a,{title:this.props.title,visible:this.props.visible,closable:!1,maskClosable:!1,okButtonProps:{disabled:!0},cancelButtonProps:{disabled:!0}},u.a.createElement(Z.a,{indicator:ee})))}}]),t}(u.a.Component),re=function(e){function t(){var e,r;Object(h.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleOk=function(e){r.props.handleOk(),r.setState({visible:!1})},r.handleCancel=function(e){r.props.handleCancel(),r.setState({visible:!1})},r}return Object(_.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(X.a,{title:this.props.title,visible:this.props.visible,onOk:this.handleOk,onCancel:this.handleCancel},this.props.content))}}]),t}(u.a.Component),ne=r(479),ae=r(474),ce=function(e){var t=e.files,r=Object(b.i)(),n=(r.path,r.url),a=Object(b.h)(),c=(a.projectId,a.fileId),o=Object(b.g)();return c&&(n=n.replace("/".concat(c),"")),u.a.createElement("div",null,u.a.createElement(ne.a,{bordered:!0,dataSource:t,renderItem:function(e){return e.previous?u.a.createElement(ae.a,{hoverable:!0,onClick:function(){return o.goBack()}},"..."):u.a.createElement(f.b,{to:"".concat(n,"/").concat(e._id)},u.a.createElement(ae.a,{hoverable:!0},e.childs?u.a.createElement(T.a,{style:{color:"#555"},type:"folder",theme:"filled"}):u.a.createElement(T.a,{type:"file",style:{color:"#555"},theme:"outlined"}),"  ",e.name))}}))},oe=r(472),le=function(e){var t=e.metrics,r=e.header,n=["name","wmc","dit","noc","cbo","rfc","lcom","ca","ce","npm","lcom3","lco","dam","moa","mfa","cam","ic","cbm","amc","max_cc","avg_cc","bug"].map((function(e){var t={title:e.toUpperCase(),width:100,dataIndex:e,key:e};return"name"==e?t=Object(J.a)({},t,{fixed:"left"}):"bug"==e&&(t=Object(J.a)({},t,{fixed:"right"})),t})),a=t.map((function(e,t){return Object(J.a)({},e,{name:e.name.split(".").pop(),key:t})}));return console.log("end"),u.a.createElement(oe.a,{columns:n,dataSource:a,scroll:{x:"100vw",y:"calc(100vh - 20em)"},bordered:!0,pagination:!0,title:r,style:{fontSize:"10px"}})},se=function(e){function t(){var e,r;Object(h.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleSubmit=function(e){e.preventDefault(),r.props.form.validateFields((function(e,t){e||r.props.handleSubmit({user:{username:t.username,password:t.password},remember:t.remember})}))},r.clearError=function(){r.props.clearError()},r}return Object(_.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,r=this.props,n=r.loading,a=r.error,c=r.accessToken;return u.a.createElement(y.a,{type:"flex",justify:"center",align:"middle",className:"container"},u.a.createElement(R.a,{span:8},u.a.createElement(te,{visible:n,title:"Waiting to login"}),u.a.createElement(re,{title:"Login error",visible:null!=a,content:a||"",handleOk:this.clearError,handleCancel:this.clearError}),u.a.createElement(re,{title:"Success",visible:null!=c,content:"Success",handleOk:function(){e.props.history.push("/")},handleCancel:function(){e.props.history.push("/")}}),u.a.createElement(v.a,{onSubmit:this.handleSubmit,className:"center-form"},u.a.createElement(v.a.Item,null,t("username",{rules:[{required:!0,message:"Please input your username!"}]})(u.a.createElement(x.a,{prefix:u.a.createElement(T.a,{type:"user",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"Username"}))),u.a.createElement(v.a.Item,null,t("password",{rules:[{required:!0,message:"Please input your password!"}]})(u.a.createElement(x.a,{prefix:u.a.createElement(T.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),type:"password",placeholder:"Password"}))),u.a.createElement(v.a.Item,null,t("remember",{valuePropName:"checked",initialValue:!0})(u.a.createElement(S.a,null,"Remember me")),u.a.createElement("a",{style:{float:"right"},href:""},"Forgot password"),u.a.createElement(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"}},"Login"),"Or ",u.a.createElement(f.b,{to:"/register"},"Register")))))}}]),t}(u.a.Component),ie=Object(E.b)((function(e){return{loading:e.login.loading,accessToken:e.login.accessToken,error:e.login.error}}),(function(e){return{handleSubmit:function(t){return e(n.loginRequest(t))},clearError:function(){return e(n.clearError())}}}))(v.a.create({name:"normal_login"})(se)),ue={loading:!1,success:!1,error:null},de=(r(215),function(e){return{type:"AUTH_REGISTER_REQUEST",payload:{user:e}}}),pe=function(){return{type:"AUTH_REGISTER_START"}},fe=function(e){return{type:"AUTH_REGISTER_ERROR",payload:{error:e}}},Ee=function(e){return{type:"AUTH_REGISTER_SUCCESS",payload:{accessToken:e}}},me=function(){return{type:"AUTH_REGISTER_CLEAR_ERROR"}};function be(e){return he.apply(this,arguments)}function he(){return(he=Object(q.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("/auth/register","POST",Object(J.a)({},t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=N.a.mark(je),ge=N.a.mark(_e);function je(e){var t,r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.c)(pe());case 3:return n.next=5,Object(U.d)({response:Object(U.a)(be,e.payload.user),timeout:Object(U.b)(M)});case 5:if(t=n.sent,r=t.response,!t.timeout){n.next=13;break}return n.next=11,Object(U.c)(fe("Timeout"));case 11:n.next=20;break;case 13:if(!r.result){n.next=18;break}return n.next=16,Object(U.c)(Ee(r.result));case 16:n.next=20;break;case 18:return n.next=20,Object(U.c)(fe(r.msg));case 20:n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(0),!n.t0.hasOwnProperty("response")){n.next=29;break}return n.next=27,Object(U.c)(fe(n.t0.response.msg));case 27:n.next=31;break;case 29:return n.next=31,Object(U.c)(fe(n.t0.toString()));case 31:case"end":return n.stop()}}),Oe,null,[[0,22]])}function _e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.e)("AUTH_REGISTER_REQUEST",je);case 2:case"end":return e.stop()}}),ge)}var ye=function(e,t){switch(t.type){case"AUTH_REGISTER_START":return Object.assign({},e,{loading:!0,success:!1,error:null});case"AUTH_REGISTER_SUCCESS":t.payload.accessToken;return Object.assign({},e,{error:null,loading:!1,success:!0});case"AUTH_REGISTER_ERROR":var r=t.payload.error;return Object.assign({},e,{error:r,loading:!1,success:!1});case"AUTH_REGISTER_CLEAR_ERROR":return Object.assign({},e,{error:null});default:return ue}},Re=function(e){function t(){var e,r;Object(h.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleSubmit=function(e){e.preventDefault(),r.props.form.validateFields((function(e,t){e||r.props.handleSubmit({username:t.username,email:t.email,password:t.password})}))},r.clearError=function(){r.props.clearError()},r}return Object(_.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,r=this.props,n=r.loading,a=r.error,c=r.success;return u.a.createElement(y.a,{type:"flex",justify:"center",align:"middle",className:"container"},u.a.createElement(R.a,{span:12},u.a.createElement(te,{visible:n,title:"Waiting to register"}),u.a.createElement(re,{title:"Register error",visible:null!=a,content:a||"",handleOk:this.clearError,handleCancel:this.clearError}),u.a.createElement(re,{title:"Success",visible:c,content:"Success",handleOk:function(){e.props.history.push("/login")},handleCancel:function(){e.props.history.push("/login")}}),u.a.createElement(v.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit,className:"center-form"}),u.a.createElement(v.a.Item,{label:"E-mail"},t("email",{rules:[{type:"email",message:"The input is not valid E-mail"},{required:!0,message:"Please input your E-mail!"}]})(u.a.createElement(x.a,null))),u.a.createElement(v.a.Item,{label:"Username"},t("username",{rules:[{required:!0,message:"Please input your username"}]})(u.a.createElement(x.a,null))),u.a.createElement(v.a.Item,{label:"Password",hasFeedback:!0},t("password",{rules:[{required:!0,message:"Please input your password!"}]})(u.a.createElement(x.a.Password,null))),u.a.createElement(v.a.Item,{label:"Confirm Password",hasFeedback:!0},t("confirm",{rules:[{required:!0,message:"Please confirm your password"},{validator:this.compareToFirstPassword}]})(u.a.createElement(x.a.Password,null))),u.a.createElement(v.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},u.a.createElement(y.a,{gutter:8},u.a.createElement(R.a,{span:6},u.a.createElement(I.a,{type:"primary",htmlType:"submit"},"Register")),u.a.createElement(R.a,{span:6},u.a.createElement(I.a,{type:"primary"},u.a.createElement(f.b,{to:"/login"},"Login"))))))))}}]),t}(u.a.Component),ve=Object(E.b)((function(e){return{loading:e.register.loading,success:e.register.success,error:e.register.error}}),(function(e){return{handleSubmit:function(t){return e(a.registerRequest(t))},clearError:function(){return e(a.clearError())}}}))(v.a.create({name:"normal_register"})(Re)),xe=r(177),Te=m.a.Header,Se=m.a.Sider,Ie=m.a.Content,ke=(u.a.Component,function(e){var t=function(e){var t=e.split(".")[1];return JSON.parse(atob(t))}(e.accessToken);switch(console.log(t),t.role){case"admin":return u.a.createElement(On,e);case"user":default:return u.a.createElement(hn,e)}}),Ce=(u.a.Component,function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,"Account page")}}]),t}(u.a.Component)),De=r(476),Le=r(50),we="PROJECT_CREATE_REQUEST_START",Ae="PROJECT_CREATE_REQUEST_SUCCESS",Fe="PROJECT_CREATE_REQUEST_ERROR",Pe="PROJECT_DELETE_SUCCESS",Be=r(45),Ne={loading:!1,projects:[],currentProject:null,error:null},Ue={loading:!1,createdProject:null,error:null},Me={loading:!1,success:!1,error:null},qe=Object(Be.c)({find:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECT_FIND_ALL_START":return Object.assign({},e,{loading:!0});case"PROJECT_FIND_ALL_SUCCESS":return Object.assign({},e,{loading:!1,error:null,projects:t.payload.projects});case"PROJECT_FIND_ALL_ERROR":return Object.assign({},e,{loading:!1,error:t.payload.error,projects:[]});case"PROJECT_FIND_BY_ID_START":return Object.assign({},e,{loading:!0});case"PROJECT_FIND_BY_ID_IN_ARRAY":var r=e.projects.find((function(e){return e._id==t.payload.id}));return r||(r=null),Object.assign({},e,{loading:!1,currentProject:r});case"PROJECT_FIND_BY_ID_SUCCESS":return Object.assign({},e,{loading:!1,currentProject:t.payload.currentProject});case"PROJECT_FIND_BY_ID_ERROR":return Object.assign({},e,{loading:!1,currentProject:null,error:t.payload.error});case"PROJECT_CLEAR_FIND_ERROR":return Object.assign({},e,{error:null});case Ae:return Object.assign({},e,{projects:[].concat(Object(Le.a)(e.projects),[t.payload.createdProject])});case Pe:return Object.assign({},e,{projects:e.projects.filter((function(e){return e._id!=t.payload.id}))});default:return e}},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return Object.assign({},e,{loading:!0,error:null});case Fe:return Object.assign({},e,{loading:!1,createdProject:null,error:t.payload.error});case Ae:return Object.assign({},e,{loading:!1,createdProject:t.payload.createdProject,error:null});case"PROJECT_CLEAR_CREATE":return Object.assign({},e,{loading:!1,createdProject:null,error:null});default:return e}},delete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECT_DELETE_START":return Object.assign({},e,{loading:!0,error:null});case"PROJECT_DELETE_ERROR":return Object.assign({},e,{loading:!1,success:!1,error:t.payload.error});case Pe:return Object.assign({},e,{loading:!1,error:null,success:!0});case"PROJECT_CLEAR_DELETE":return Object.assign({},e,{loading:!1,success:!1,error:null});default:return e}}}),Je=(r(216),function(){return{type:"PROJECT_FIND_ALL_REQUEST"}}),Ye=function(){return{type:"PROJECT_FIND_ALL_START"}},Ge=function(e){return{type:"PROJECT_FIND_ALL_SUCCESS",payload:{projects:e}}},Qe=function(e){return{type:"PROJECT_FIND_ALL_ERROR",payload:{error:e}}},He=function(e){return{type:"PROJECT_FIND_BY_ID_REQUEST",payload:{id:e}}},We=function(){return{type:"PROJECT_FIND_BY_ID_START"}},ze=function(e){return{type:"PROJECT_FIND_BY_ID_IN_ARRAY",payload:{id:e}}},$e=function(e){return{type:"PROJECT_FIND_BY_ID_SUCCESS",payload:{currentProject:e}}},Ke=function(e){return{type:"PROJECT_FIND_BY_ID_ERROR",payload:{error:e}}},Ve=function(){return{type:"PROJECT_CLEAR_FIND_ERROR"}},Xe=function(e){return{type:"PROJECT_CREATE_REQUEST",payload:{project:e}}},Ze=function(){return{type:we}},et=function(e){return{type:Ae,payload:{createdProject:e}}},tt=function(e){return{type:Fe,payload:{error:e}}},rt=function(){return{type:"PROJECT_CLEAR_CREATE"}},nt=function(e){return{type:"PROJECT_DELETE_REQUEST",payload:{id:e}}},at=function(){return{type:"PROJECT_DELETE_START"}},ct=function(e){return{type:Pe,payload:{id:e}}},ot=function(e){return{type:"PROJECT_DELETE_ERROR",payload:{error:e}}},lt=function(){return{type:"PROJECT_CLEAR_DELETE"}};function st(){return it.apply(this,arguments)}function it(){return(it=Object(q.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("/projects","GET",null,F());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e){return dt.apply(this,arguments)}function dt(){return(dt=Object(q.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("/projects/"+t,"GET",null,F());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(q.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("/projects","POST",Object(J.a)({},t),F());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e){return mt.apply(this,arguments)}function mt(){return(mt=Object(q.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("/projects/"+t,"DELETE",null,F());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bt=N.a.mark(_t),ht=N.a.mark(yt),Ot=N.a.mark(Rt),gt=N.a.mark(vt),jt=N.a.mark(xt);function _t(e){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(U.c)(Ye());case 3:return e.next=5,Object(U.d)({response:Object(U.a)(st),timeout:Object(U.b)(M)});case 5:if(t=e.sent,r=t.response,!t.timeout){e.next=13;break}return e.next=11,Object(U.c)(Qe("Timeout"));case 11:e.next=20;break;case 13:if(!r.result){e.next=18;break}return e.next=16,Object(U.c)(Ge(r.result));case 16:e.next=20;break;case 18:return e.next=20,Object(U.c)(Qe(r.msg));case 20:e.next=31;break;case 22:if(e.prev=22,e.t0=e.catch(0),!e.t0.hasOwnProperty("response")){e.next=29;break}return e.next=27,Object(U.c)(Qe(e.t0.response.msg));case 27:e.next=31;break;case 29:return e.next=31,Object(U.c)(Qe(e.t0.toString()));case 31:case"end":return e.stop()}}),bt,null,[[0,22]])}function yt(e){var t,r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.c)(We());case 3:return n.next=5,Object(U.d)({response:Object(U.a)(ut,e.payload.id),timeout:Object(U.b)(M)});case 5:if(t=n.sent,r=t.response,!t.timeout){n.next=13;break}return n.next=11,Object(U.c)(Ke("Timeout"));case 11:n.next=20;break;case 13:if(!r.result){n.next=18;break}return n.next=16,Object(U.c)($e(r.result));case 16:n.next=20;break;case 18:return n.next=20,Object(U.c)(Ke(r.msg));case 20:n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(0),!n.t0.hasOwnProperty("response")){n.next=29;break}return n.next=27,Object(U.c)(Ke(n.t0.response.msg));case 27:n.next=31;break;case 29:return n.next=31,Object(U.c)(Ke(n.t0.toString()));case 31:case"end":return n.stop()}}),ht,null,[[0,22]])}function Rt(e){var t,r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.c)(Ze());case 3:return n.next=5,Object(U.d)({response:Object(U.a)(pt,e.payload.project),timeout:Object(U.b)(M)});case 5:if(t=n.sent,r=t.response,!t.timeout){n.next=13;break}return n.next=11,Object(U.c)(tt("Timeout"));case 11:n.next=20;break;case 13:if(!r.result){n.next=18;break}return n.next=16,Object(U.c)(et(r.result));case 16:n.next=20;break;case 18:return n.next=20,Object(U.c)(tt(r.msg));case 20:n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(0),!n.t0.hasOwnProperty("response")){n.next=29;break}return n.next=27,Object(U.c)(tt(n.t0.response.msg));case 27:n.next=31;break;case 29:return n.next=31,Object(U.c)(tt(n.t0.toString()));case 31:case"end":return n.stop()}}),Ot,null,[[0,22]])}function vt(e){var t,r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.c)(at());case 3:return n.next=5,Object(U.d)({response:Object(U.a)(Et,e.payload.id),timeout:Object(U.b)(M)});case 5:if(t=n.sent,r=t.response,!t.timeout){n.next=13;break}return n.next=11,Object(U.c)(ot("Timeout"));case 11:n.next=20;break;case 13:if(!r.result){n.next=18;break}return n.next=16,Object(U.c)(ct(e.payload.id));case 16:n.next=20;break;case 18:return n.next=20,Object(U.c)(ot(r.msg));case 20:n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(0),!n.t0.hasOwnProperty("response")){n.next=29;break}return n.next=27,Object(U.c)(ot(n.t0.response.msg));case 27:n.next=31;break;case 29:return n.next=31,Object(U.c)(ot(n.t0.toString()));case 31:case"end":return n.stop()}}),gt,null,[[0,22]])}function xt(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.e)("PROJECT_FIND_ALL_REQUEST",_t);case 2:return e.next=4,Object(U.e)("PROJECT_FIND_BY_ID_REQUEST",yt);case 4:return e.next=6,Object(U.e)("PROJECT_CREATE_REQUEST",Rt);case 6:return e.next=8,Object(U.e)("PROJECT_DELETE_REQUEST",vt);case 8:case"end":return e.stop()}}),jt)}var Tt=qe,St=(De.a.Title,function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).clearError=function(){r.props.clearError()},r}return Object(_.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(e){this.props.findAll()}},{key:"render",value:function(){var e=this.props,t=e.loading,r=e.projects,n=e.error;return u.a.createElement("div",{style:{background:"#ECECEC",padding:"30px",wordWrap:"normal"}},u.a.createElement(b.d,null,on.map((function(e){return u.a.createElement(b.b,Object.assign({key:e.path},e))})),u.a.createElement(b.b,{exact:!0,path:"/projects"},u.a.createElement(te,{visible:t,title:"Finding projects"}),u.a.createElement(re,{title:"Find error",visible:null!=n,content:n||"",handleOk:this.clearError,handleCancel:this.clearError}),u.a.createElement(y.a,null,u.a.createElement(R.a,{span:12},u.a.createElement("h2",null,"Projects")),u.a.createElement(R.a,{span:12,align:"right"},u.a.createElement(I.a,null,u.a.createElement(f.b,{to:"/projects/create"},"New")))),u.a.createElement(y.a,null,0==r.length?u.a.createElement("div",null,"No projects found"):It(r,2).map((function(e,t){return u.a.createElement(y.a,{key:t,gutter:16,style:{marginBottom:"10px"}},e.map((function(e){return u.a.createElement(R.a,{key:e._id,span:12},"done"==e.status?u.a.createElement(f.b,{to:"/projects/".concat(e._id,"/files")},u.a.createElement(ae.a,{hoverable:!0,title:e.name,bordered:!1},u.a.createElement("p",{className:"truncate"},e.description),u.a.createElement("p",null,e.github))):u.a.createElement(ae.a,{hoverable:!0,title:"".concat(e.name," (updating)"),bordered:!1,loading:!0},u.a.createElement("p",{className:"truncate"},e.description),u.a.createElement("p",null,e.github)))})))}))))))}}]),t}(u.a.Component)),It=function(e,t){for(var r=[],n=[e[0]],a=1;a<e.length;a++)n.push(e[a]),(a+1)%t==0&&(r.push(n),n=[]);return r.push(n),r},kt=Object(E.b)((function(e,t){return{loading:e.project.find.loading,projects:e.project.find.projects,error:e.project.find.error}}),(function(e){return{findAll:function(){return e(c.findAllRequest())},clearError:function(){return e(c.clearFindError())}}}))(St),Ct=function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),r.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),r.props.create(t))}))},r.clearError=function(){r.props.clearCreate()},r.handleSuccess=function(){r.props.clearCreate(),r.props.history.push("/projects")},r.validateGithubLink=function(e,t,r){new RegExp("^https://github.com/[^/]+/[^/]+.git$").test(t)?r():r('Github link should ends with ".git"')},r}return Object(_.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,r=e.createdProject,n=e.error,a=this.props.form.getFieldDecorator;return u.a.createElement("div",null,u.a.createElement(te,{visible:t,title:"Creating projects"}),u.a.createElement(re,{title:"Create error",visible:null!=n,content:n||"",handleOk:this.clearError,handleCancel:this.clearError}),u.a.createElement(re,{title:"Success !",visible:null!=r,content:"Project created",handleOk:this.handleSuccess,handleCancel:this.handleSuccess}),u.a.createElement(v.a,{onSubmit:this.handleSubmit,className:"center-form"},u.a.createElement(v.a.Item,{label:"Project name"},a("name",{rules:[{required:!0,message:"Please enter project name"}]})(u.a.createElement(x.a,null))),u.a.createElement(v.a.Item,{label:"Description"},a("description")(u.a.createElement(x.a,null))),u.a.createElement(v.a.Item,{label:"Github link"},a("github",{rules:[{required:!0,message:"Please input the project's github link"},{validator:this.validateGithubLink}]})(u.a.createElement(x.a,{placeholder:"E.g https://github.com/username/projectname.git"}))),u.a.createElement(v.a.Item,null,u.a.createElement(I.a,{htmlType:"submit"},"Create"))))}}]),t}(u.a.Component),Dt=Object(E.b)((function(e){return{loading:e.project.create.loading,createdProject:e.project.create.createdProject,error:e.project.create.error}}),(function(e){return{create:function(t){return e(c.createRequest(t))},clearCreate:function(){return e(c.clearCreate())}}}))(v.a.create({name:"project_form"})(Ct)),Lt=function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).startDelete=function(){r.setState({deleting:!0})},r.stopDelete=function(){r.setState({deleting:!1})},r.clearError=function(){r.props.deleteError&&(r.props.clearDelete(),r.stopDelete()),r.props.findError&&r.props.clearFindError()},r.handleSuccess=function(){r.props.clearDelete(),r.props.history.push("/projects")},r.delete=function(){var e=r.props.match.params;r.props.deleteById(e.projectId)},r.state={deleting:!1},r}return Object(_.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.projects;this.props.findByIdRequest(e.projectId)}},{key:"render",value:function(){var e=this,t=this.props,r=t.loading,n=t.currentProject,a=t.findError,c=t.deleteError,o=t.deleteSuccess;return u.a.createElement("div",null,u.a.createElement(te,{visible:r,title:"Finding projects"}),u.a.createElement(re,{title:"Something went wrong",visible:null!=a||null!=c,content:a||c||"",handleOk:this.clearError,handleCancel:this.clearError}),n?u.a.createElement(y.a,null,u.a.createElement(re,{title:"Are you sure?",visible:this.state.deleting,content:"This will completely delete your project",handleOk:this.delete,handleCancel:this.stopDelete}),u.a.createElement(re,{title:"Delete Success",visible:o,content:"",handleOk:function(){return e.handleSuccess()},handleCancel:function(){return e.handleSuccess()}}),u.a.createElement(y.a,{align:"middle"},u.a.createElement(R.a,{span:12},u.a.createElement("h3",null,n.name)),u.a.createElement(R.a,{span:12,align:"right"},u.a.createElement(I.a,{onClick:function(){return e.startDelete()}},"Delete"))),u.a.createElement(y.a,{align:"middle"},n.description),u.a.createElement(ce,{files:[{previous:"/projects"}].concat(Object(Le.a)(n.files))})):u.a.createElement("div",null))}}]),t}(u.a.Component),wt=Object(E.b)((function(e){return console.log(e.project),{projects:e.project.find.projects,loading:e.project.find.loading,findError:e.project.find.error,currentProject:e.project.find.currentProject,deleteError:e.project.delete.error,deleteSuccess:e.project.delete.success}}),(function(e){return{findByIdRequest:function(t){return e(c.findByIdRequest(t))},findByIdInArray:function(t){e(c.findByIdStart()),e(c.findByIdInArray(t))},deleteById:function(t){return e(c.deleteRequest(t))},clearFindError:function(){return e(c.clearFindError())},clearDelete:function(){return e(c.clearDelete())}}}))(Lt),At=r(105),Ft={loading:!1,currentFile:null,error:null},Pt={loading:!1,updatedFile:null,error:null},Bt=Object(Be.c)({find:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILE_FIND_BY_ID_START":return Object.assign({},e,{loading:!0,currentFile:null,error:null});case"FILE_FIND_BY_ID_ERROR":return Object.assign({},e,{loading:!1,currentFile:null,error:t.payload.error});case"FILE_FIND_BY_ID_SUCCESS":return Object.assign({},e,{loading:!1,currentFile:t.payload.currentFile,error:null});case"FILE_CLEAR_FIND_ERROR":return Object.assign({},e,{loading:!1,currentFile:null,error:null});default:return e}},predict:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILE_PREDICT_BY_ID_START":return Object.assign({},e,{loading:!0,updatedFile:null,error:null});case"FILE_PREDICT_BY_ID_ERROR":return Object.assign({},e,{loading:!1,updatedFile:null,error:t.payload.error});case"FILE_PREDICT_BY_ID_SUCCESS":return Object.assign({},e,{loading:!1,updatedFile:t.payload.updatedFile,error:null});case"FILE_CLEAR_PREDICT_BY_ID":return Object.assign({},e,{loading:!1,updatedFile:null,error:null});default:return e}}}),Nt=(r(217),function(e,t){return{type:"FILE_FIND_BY_ID_REQUEST",payload:{id:e,projectId:t}}}),Ut=function(){return{type:"FILE_FIND_BY_ID_START"}},Mt=function(e){return{type:"FILE_FIND_BY_ID_SUCCESS",payload:{currentFile:e}}},qt=function(e){return{type:"FILE_FIND_BY_ID_ERROR",payload:{error:e}}},Jt=function(){return{type:"FILE_CLEAR_FIND_ERROR"}},Yt=function(e,t){return{type:"FILE_PREDICT_BY_ID_REQUEST",payload:{id:e,modelId:t}}},Gt=function(){return{type:"FILE_PREDICT_BY_ID_START"}},Qt=function(e){return{type:"FILE_PREDICT_BY_ID_SUCCESS",payload:{updatedFile:e}}},Ht=function(e){return{type:"FILE_PREDICT_BY_ID_ERROR",payload:{error:e}}},Wt=function(){return{type:"FILE_CLEAR_PREDICT_BY_ID"}};function zt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(q.a)(N.a.mark((function e(t,r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("/files/".concat(t,"?projectId=").concat(r),"GET",null,F());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(q.a)(N.a.mark((function e(t,r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("/files/"+t+"/predict","POST",{modelId:r},F());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xt=N.a.mark(tr),Zt=N.a.mark(rr),er=N.a.mark(nr);function tr(e){var t,r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.c)(Ut());case 3:return n.next=5,Object(U.d)({response:Object(U.a)(zt,e.payload.id,e.payload.projectId),timeout:Object(U.b)(M)});case 5:if(t=n.sent,r=t.response,!t.timeout){n.next=13;break}return n.next=11,Object(U.c)(qt("Timeout"));case 11:n.next=20;break;case 13:if(!r.result){n.next=18;break}return n.next=16,Object(U.c)(Mt(r.result));case 16:n.next=20;break;case 18:return n.next=20,Object(U.c)(qt(r.msg));case 20:n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(0),!n.t0.hasOwnProperty("response")){n.next=29;break}return n.next=27,Object(U.c)(qt(n.t0.response.msg));case 27:n.next=31;break;case 29:return n.next=31,Object(U.c)(qt(n.t0.toString()));case 31:case"end":return n.stop()}}),Xt,null,[[0,22]])}function rr(e){var t,r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.c)(Gt());case 3:return n.next=5,Object(U.d)({response:Object(U.a)(Kt,e.payload.id,e.payload.modelId),timeout:Object(U.b)(M)});case 5:if(t=n.sent,r=t.response,!t.timeout){n.next=13;break}return n.next=11,Object(U.c)(Ht("Timeout"));case 11:n.next=20;break;case 13:if(!r.result){n.next=18;break}return n.next=16,Object(U.c)(Qt(r.result));case 16:n.next=20;break;case 18:return n.next=20,Object(U.c)(Ht(r.msg));case 20:n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(0),!n.t0.hasOwnProperty("response")){n.next=29;break}return n.next=27,Object(U.c)(Ht(n.t0.response.msg));case 27:n.next=31;break;case 29:return n.next=31,Object(U.c)(Ht(n.t0.toString()));case 31:case"end":return n.stop()}}),Zt,null,[[0,22]])}function nr(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.e)("FILE_FIND_BY_ID_REQUEST",tr);case 2:return e.next=4,Object(U.e)("FILE_PREDICT_BY_ID_REQUEST",rr);case 4:case"end":return e.stop()}}),er)}var ar=Bt,cr={loading:!1,models:[],currentModel:null,error:null},or={loading:!1,createdModel:null,error:null},lr={loading:!1,success:!1,error:null},sr=Object(Be.c)({find:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODEL_FIND_ALL_START":return Object.assign({},e,{loading:!0,models:[],error:null});case"MODEL_FIND_ALL_ERROR":return Object.assign({},e,{loading:!1,models:[],error:t.payload.error});case"MODEL_FIND_ALL_SUCCESS":return Object.assign({},e,{loading:!1,models:t.payload.models,error:null});case"MODEL_CLEAR_FIND_ERROR":return Object.assign({},e,{loading:!1,models:[],error:null});case"MODEL_FIND_BY_ID_START":return Object.assign({},e,{loading:!0,error:null,currentModel:null});case"MODEL_FIND_BY_ID_ERROR":return Object.assign({},e,{loading:!1,error:t.payload.error,currentModel:null});case"MODEL_FIND_BY_ID_SUCCESS":return Object.assign({},e,{loading:!1,currentModel:t.payload.currentModel,error:null});case"MODEL_CLEAR_FIND_BY_ID":return Object.assign({},e,{loading:!1,currentModel:null,error:null});case"MODEL_CREATE_SUCCESS":return Object.assign({},e,{models:[].concat(Object(Le.a)(e.models),[t.payload.createdModel])});case"MODEL_DELETE_SUCCESS":return Object.assign({},e,{models:e.models.filter((function(e){return e._id!=t.payload.deletedId}))});default:return e}},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODEL_CREATE_START":return Object.assign({},e,{loading:!0,createdModel:null,error:null});case"MODEL_CREATE_ERROR":return Object.assign({},e,{loading:!1,createdModel:null,error:t.payload.error});case"MODEL_CREATE_SUCCESS":return Object.assign({},e,{loading:!1,createdModel:t.payload.createdModel,error:null});case"MODEL_CLEAR_CREATE":return Object.assign({},e,{loading:!1,createdModel:null,error:null});default:return e}},delete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODEL_DELETE_START":return Object.assign({},e,{loading:!0,success:!1,error:null});case"MODEL_DELETE_ERROR":return Object.assign({},e,{loading:!1,success:!1,error:t.payload.error});case"MODEL_DELETE_SUCCESS":return Object.assign({},e,{loading:!1,success:!0,error:null});case"MODEL_CLEAR_DELETE":return Object.assign({},e,{loading:!1,success:!1,error:null});default:return e}}}),ir=(r(218),function(){return{type:"MODEL_FIND_ALL_REQUEST"}}),ur=function(){return{type:"MODEL_FIND_ALL_START"}},dr=function(e){return{type:"MODEL_FIND_ALL_SUCCESS",payload:{models:e}}},pr=function(e){return{type:"MODEL_FIND_ALL_ERROR",payload:{error:e}}},fr=function(){return{type:"MODEL_CLEAR_FIND_ERROR"}},Er=function(e){return{type:"MODEL_FIND_BY_ID_REQUEST",payload:{id:e}}},mr=function(){return{type:"MODEL_FIND_BY_ID_START"}},br=function(e){return{type:"MODEL_FIND_BY_ID_ERROR",payload:{error:e}}},hr=function(e){return{type:"MODEL_FIND_BY_ID_SUCCESS",payload:{currentModel:e}}},Or=function(){return{type:"MODEL_CLEAR_FIND_BY_ID"}},gr=function(e){return{type:"MODEL_CREATE_REQUEST",payload:{model:e}}},jr=function(){return{type:"MODEL_CREATE_START"}},_r=function(e){return{type:"MODEL_CREATE_ERROR",payload:{error:e}}},yr=function(e){return{type:"MODEL_CREATE_SUCCESS",payload:{createdModel:e}}},Rr=function(){return{type:"MODEL_CLEAR_CREATE"}},vr=function(e){return{type:"MODEL_DELETE_REQUEST",payload:{id:e}}},xr=function(){return{type:"MODEL_DELETE_START"}},Tr=function(e){return{type:"MODEL_DELETE_ERROR",payload:{error:e}}},Sr=function(e){return{type:"MODEL_DELETE_SUCCESS",payload:{deletedId:e}}},Ir=function(){return{type:"MODEL_CLEAR_DELETE"}};function kr(){return Cr.apply(this,arguments)}function Cr(){return(Cr=Object(q.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("/models","GET",null,F());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dr(e){return Lr.apply(this,arguments)}function Lr(){return(Lr=Object(q.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("/models/".concat(t),"GET",null,F());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(e){return Ar.apply(this,arguments)}function Ar(){return(Ar=Object(q.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("name",t.name),t.description&&r.append("description",t.description),r.append("file",t.file),e.next=6,Y("/models","POST",r,F(),!0);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(e){return Pr.apply(this,arguments)}function Pr(){return(Pr=Object(q.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("/models/".concat(t),"DELETE",null,F());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Br=N.a.mark(Jr),Nr=N.a.mark(Yr),Ur=N.a.mark(Gr),Mr=N.a.mark(Qr),qr=N.a.mark(Hr);function Jr(e){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(U.c)(ur());case 3:return e.next=5,Object(U.d)({response:Object(U.a)(kr),timeout:Object(U.b)(M)});case 5:if(t=e.sent,r=t.response,!t.timeout){e.next=13;break}return e.next=11,Object(U.c)(pr("Timeout"));case 11:e.next=20;break;case 13:if(!r.result){e.next=18;break}return e.next=16,Object(U.c)(dr(r.result));case 16:e.next=20;break;case 18:return e.next=20,Object(U.c)(pr(r.msg));case 20:e.next=31;break;case 22:if(e.prev=22,e.t0=e.catch(0),!e.t0.hasOwnProperty("response")){e.next=29;break}return e.next=27,Object(U.c)(pr(e.t0.response.msg));case 27:e.next=31;break;case 29:return e.next=31,Object(U.c)(pr(e.t0.toString()));case 31:case"end":return e.stop()}}),Br,null,[[0,22]])}function Yr(e){var t,r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.c)(mr());case 3:return n.next=5,Object(U.d)({response:Object(U.a)(Dr,e.payload.id),timeout:Object(U.b)(M)});case 5:if(t=n.sent,r=t.response,!t.timeout){n.next=13;break}return n.next=11,Object(U.c)(br("Timeout"));case 11:n.next=20;break;case 13:if(!r.result){n.next=18;break}return n.next=16,Object(U.c)(hr(r.result));case 16:n.next=20;break;case 18:return n.next=20,Object(U.c)(br(r.msg));case 20:n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(0),!n.t0.hasOwnProperty("response")){n.next=29;break}return n.next=27,Object(U.c)(br(n.t0.response.msg));case 27:n.next=31;break;case 29:return n.next=31,Object(U.c)(br(n.t0.toString()));case 31:case"end":return n.stop()}}),Nr,null,[[0,22]])}function Gr(e){var t,r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.c)(jr());case 3:return n.next=5,Object(U.d)({response:Object(U.a)(wr,e.payload.model),timeout:Object(U.b)(M)});case 5:if(t=n.sent,r=t.response,!t.timeout){n.next=13;break}return n.next=11,Object(U.c)(_r("Timeout"));case 11:n.next=20;break;case 13:if(!r.result){n.next=18;break}return n.next=16,Object(U.c)(yr(r.result));case 16:n.next=20;break;case 18:return n.next=20,Object(U.c)(_r(r.msg));case 20:n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(0),!n.t0.hasOwnProperty("response")){n.next=29;break}return n.next=27,Object(U.c)(_r(n.t0.response.msg));case 27:n.next=31;break;case 29:return n.next=31,Object(U.c)(_r(n.t0.toString()));case 31:case"end":return n.stop()}}),Ur,null,[[0,22]])}function Qr(e){var t,r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.c)(xr());case 3:return n.next=5,Object(U.d)({response:Object(U.a)(Fr,e.payload.id),timeout:Object(U.b)(M)});case 5:if(t=n.sent,r=t.response,!t.timeout){n.next=13;break}return n.next=11,Object(U.c)(Tr("Timeout"));case 11:n.next=20;break;case 13:if(!r.result){n.next=18;break}return n.next=16,Object(U.c)(Sr(r.result));case 16:n.next=20;break;case 18:return n.next=20,Object(U.c)(Tr(r.msg));case 20:n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(0),!n.t0.hasOwnProperty("response")){n.next=29;break}return n.next=27,Object(U.c)(Tr(n.t0.response.msg));case 27:n.next=31;break;case 29:return n.next=31,Object(U.c)(Tr(n.t0.toString()));case 31:case"end":return n.stop()}}),Mr,null,[[0,22]])}function Hr(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.e)("MODEL_FIND_ALL_REQUEST",Jr);case 2:return e.next=4,Object(U.e)("MODEL_FIND_BY_ID_REQUEST",Yr);case 4:return e.next=6,Object(U.e)("MODEL_CREATE_REQUEST",Gr);case 6:return e.next=8,Object(U.e)("MODEL_DELETE_REQUEST",Qr);case 8:case"end":return e.stop()}}),qr)}var Wr=sr,zr=At.a.Option,$r=function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).clearFileError=function(){r.props.clearFindByIdError()},r.clearModelError=function(){r.props.clearFindModelError()},r.clearPredict=function(){r.props.clearPredict()},r.predict=function(){var e=r.props.match.params;r.props.predictByIdRequest(e.fileId,r.state.modelId)},r.togglePredicting=function(){r.setState({predicting:!r.state.predicting},(function(){r.state.predicting&&0==r.props.models.length&&r.props.findModelRequest()}))},r.selectModel=function(e){r.setState(Object(J.a)({},r.state,{modelId:e}))},r.state={predicting:!1,modelId:null},r}return Object(_.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.findByIdRequest(e.fileId,e.projectId)}},{key:"componentDidUpdate",value:function(e){var t=e.match.params,r=this.props.match.params;t.fileId==r.fileId&&t.projectId==r.projectId||this.props.findByIdRequest(r.fileId,r.projectId),console.log(this.props)}},{key:"render",value:function(){var e=this,t=this.props,r=t.currentFile,n=t.fileLoading,a=t.fileError,c=t.modelError,o=t.models,l=t.modelLoading,s=t.predictLoading,i=t.predictError,d=t.updatedFile,p=this.props.match,f=(p.path,p.url),E=p.params,m=f.replace("/".concat(E.fileId),"");return r?r.hasOwnProperty("metrics")&&r.metrics.length>0?u.a.createElement(y.a,null,u.a.createElement(te,{visible:n||l||s,title:"Loading"}),u.a.createElement(re,{title:"Some thing went wrong",visible:null!=a,content:a||"",handleOk:this.clearFileError,handleCancel:this.clearFileError}),u.a.createElement(re,{title:"Some thing went wrong",visible:null!=c,content:c||"",handleOk:this.clearModelError,handleCancel:this.clearModelError}),u.a.createElement(re,{title:"Some thing went wrong",visible:null!=i,content:i||"",handleOk:this.clearPredict,handleCancel:this.clearPredict}),u.a.createElement(re,{title:"Predict success",visible:null!=d,content:"",handleOk:function(){e.props.clearPredict(),e.props.history.goBack()},handleCancel:function(){e.props.clearPredict(),e.props.history.goBack()}}),u.a.createElement(y.a,{align:"middle"},u.a.createElement(R.a,{span:8},u.a.createElement("h3",null,r.name)),u.a.createElement(R.a,{span:8},this.state.predicting?u.a.createElement(At.a,{onChange:function(t){return e.selectModel(t)},style:{minWidth:"300px"}},o.map((function(e){return u.a.createElement(zr,{key:e._id,value:e._id},e.name)}))):""),u.a.createElement(R.a,{span:8,align:"right"},this.state.predicting?u.a.createElement(I.a,{style:{marginRight:"10px"},onClick:function(){return e.predict()}},"Predict"):"",u.a.createElement(I.a,{onClick:function(t){return e.togglePredicting()}},this.state.predicting?"Cancel":"Predict"))),u.a.createElement(le,{metrics:r.metrics})):r.childs&&r.childs.length>0?u.a.createElement(y.a,null,u.a.createElement(te,{visible:n,title:"Loading"}),u.a.createElement(re,{title:"Some thing went wrong",visible:null!=a,content:a||"",handleOk:this.clearFileError,handleCancel:this.clearFileError}),u.a.createElement(y.a,{align:"middle"},u.a.createElement("h3",null,r.name)),u.a.createElement(ce,{files:[{previous:m}].concat(Object(Le.a)(r.childs))})):u.a.createElement(y.a,{align:"middle"},u.a.createElement("h3",null,r.name)):u.a.createElement("div",null)}}]),t}(u.a.Component),Kr=Object(E.b)((function(e){return{currentFile:e.file.find.currentFile,models:e.model.find.models,fileLoading:e.file.find.loading,modelLoading:e.model.find.loading,fileError:e.file.find.error,modelError:e.model.find.error,predictLoading:e.file.predict.loading,updatedFile:e.file.predict.updatedFile,predictError:e.file.predict.error}}),(function(e){return{findByIdRequest:function(t,r){return e(o.findByIdRequest(t,r))},findModelRequest:function(){return e(l.findAllRequest())},clearFindByIdError:function(){return e(o.clearFindError())},clearFindModelError:function(){return e(l.clearFindError())},predictByIdRequest:function(t,r){return e(o.predictByIdRequest(t,r))},clearPredict:function(){return e(o.clearPredict())}}}))($r),Vr=function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).clearError=function(){r.props.clearError()},r}return Object(_.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.props.findAll()}},{key:"render",value:function(){var e=this.props,t=e.loading,r=e.models,n=e.error;return u.a.createElement("div",{style:{background:"#ECECEC",padding:"30px",wordWrap:"normal"}},u.a.createElement(b.d,null,sn.map((function(e){return u.a.createElement(b.b,Object.assign({key:e.path},e))})),u.a.createElement(b.b,{exact:!0,path:"/models"},u.a.createElement(te,{visible:t,title:"Finding models"}),u.a.createElement(re,{title:"Find error",visible:null!=n,content:n||"",handleOk:this.clearError,handleCancel:this.clearError}),u.a.createElement(y.a,null,u.a.createElement(R.a,{span:12},u.a.createElement("h3",null,"models")),u.a.createElement(R.a,{span:12,align:"right"},u.a.createElement(I.a,null,u.a.createElement(f.b,{to:"/models/create"},"New")))),u.a.createElement(y.a,null,0==r.length?u.a.createElement("div",null,"No models found"):function(e,t){for(var r=[],n=[e[0]],a=1;a<e.length;a++)n.push(e[a]),(a+1)%t==0&&(r.push(n),n=[]);return r.push(n),r}(r,2).map((function(e,t){return u.a.createElement(y.a,{gutter:16,style:{marginBottom:"10px"}},e.map((function(e){return u.a.createElement(R.a,{key:e._id,span:12},u.a.createElement(f.b,{to:"/models/".concat(e._id)},u.a.createElement(ae.a,{hoverable:!0,title:e.name,bordered:!1},u.a.createElement("p",{className:"truncate"},e.description))))})))}))))))}}]),t}(u.a.Component),Xr=Object(E.b)((function(e,t){return{loading:e.model.find.loading,models:e.model.find.models,error:e.model.find.error}}),(function(e){return{findAll:function(){return e(l.findAllRequest())},clearError:function(){return e(l.clearFindError())}}}))(Vr),Zr=r(473),en=function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),r.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),r.props.create(Object(J.a)({},t,{file:r.state.file})))}))},r.clearError=function(){r.props.clearCreate()},r.handleSuccess=function(){r.props.clearCreate(),r.props.history.push("/models")},r.addFile=function(e){return r.setState({file:e}),!1},r.removeFile=function(e){r.setState({file:null})},r.state={file:null},r}return Object(_.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,r=this.props,n=r.loading,a=r.error,c=r.createdModel,o=this.state.file;return u.a.createElement("div",null,u.a.createElement(te,{visible:n,title:"Creating models"}),u.a.createElement(re,{title:"Create error",visible:null!=a,content:a||"",handleOk:this.clearError,handleCancel:this.clearError}),u.a.createElement(re,{title:"Success !",visible:null!=c,content:"Model created",handleOk:this.handleSuccess,handleCancel:this.handleSuccess}),u.a.createElement(v.a,{onSubmit:this.handleSubmit,className:"center-form"},u.a.createElement(v.a.Item,{label:"Model name"},t("name",{rules:[{required:!0,message:"Please enter model name"}]})(u.a.createElement(x.a,null))),u.a.createElement(v.a.Item,{label:"Description"},t("description")(u.a.createElement(x.a,null))),u.a.createElement(v.a.Item,{label:"File"},u.a.createElement(Zr.a,{name:"file",accept:".pkl",beforeUpload:function(t){return e.addFile(t)},onRemove:function(){return e.removeFile()},fileList:o?[o]:[]},u.a.createElement(I.a,null,u.a.createElement(T.a,{type:"upload"})," Click to upload"))),u.a.createElement(v.a.Item,null,u.a.createElement(I.a,{htmlType:"submit"},"Create"))))}}]),t}(u.a.Component),tn=Object(E.b)((function(e){return{loading:e.model.create.loading,createdModel:e.model.create.createdModel,error:e.model.create.error}}),(function(e){return{create:function(t){return e(l.createRequest(t))},clearCreate:function(){return e(l.clearCreate())}}}))(v.a.create({name:"model_form"})(en)),rn=function(){return u.a.createElement("h3",null,"404 - Not found")};var nn,an=[{path:"/login",component:ie,exact:!0},{path:"/register",component:ve,exact:!0},{path:"/",component:(nn=ke,function(e){var t=F();return t?u.a.createElement(nn,Object.assign({},e,{accessToken:t})):u.a.createElement(b.a,{to:"/login"})})}],cn=[{path:"/projects",component:kt,name:"Project",icon:"github",default:!0},{path:"/detail",component:Ce,name:"Account",icon:"user"},{path:"*",component:rn}],on=[{path:"/projects/create",component:Dt},{path:"/projects/:projectId/files",component:wt,exact:!0},{path:"/projects/:projectId/files/:fileId",component:Kr}],ln=[{path:"/models",component:Xr,name:"Algorithm",icon:"codepen",default:!0},{path:"/detail",component:Ce,name:"Account",icon:"user"},{path:"*",component:rn}],sn=[{path:"/models/create",component:tn}],un=(m.a.Header,m.a.Content),dn=(m.a.Footer,function(){return u.a.createElement(m.a,null,u.a.createElement(un,null,an.map((function(e){return u.a.createElement(b.b,Object.assign({key:e.path},e))}))))}),pn=m.a.Header,fn=m.a.Sider,En=m.a.Content,mn=function(e){function t(){var e,r;Object(h.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).state={siders:r.props.siders,content:r.props.content,collapsed:!0},r.toggle=function(){r.setState({collapsed:!r.state.collapsed})},r.logout=function(){r.props.logout(),r.props.history.push("/login")},r}return Object(_.a)(t,e),Object(O.a)(t,[{key:"componentDidUpdate",value:function(e){e.siders==this.props.siders&&e.content==this.props.content||this.setState(Object(J.a)({},this.state,{siders:this.props.siders,content:this.props.content}))}},{key:"render",value:function(){var e=this.props.location.pathname,t=this.state,r=t.siders,n=t.content,a=t.collapsed,c=r.filter((function(t){return t.path==e})).map((function(e){return e.key}));return u.a.createElement(m.a,{className:"container"},u.a.createElement(fn,{trigger:null,collapsible:!0,collapsed:a},u.a.createElement("div",{className:"logo"}),u.a.createElement(xe.a,{theme:"dark",mode:"inline",defaultSelectedKeys:c},r.map((function(e){return u.a.createElement(xe.a.Item,{key:e.key},u.a.createElement(f.b,{to:e.path},u.a.createElement(T.a,{type:e.icon}),u.a.createElement("span",null,e.name)))})))),u.a.createElement(m.a,null,u.a.createElement(pn,{style:{background:"#fff",padding:0}},u.a.createElement(T.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),u.a.createElement("span",{className:"trigger",style:{float:"right",fontSize:14},onClick:this.logout},"Logout")),u.a.createElement(En,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},n)))}}]),t}(u.a.Component),bn=Object(E.b)(null,(function(e){return{logout:function(){return e(n.logout())}}}))(Object(b.j)((function(e){return u.a.createElement(mn,e)}))),hn=function(){var e=cn.find((function(e){return e.default})),t=[{path:"/",component:function(){return u.a.createElement(b.a,{to:e.path})},exact:!0}].concat(Object(Le.a)(cn)),r=u.a.createElement(b.d,null,t.map((function(e){return u.a.createElement(b.b,Object.assign({key:e.path},e))}))),n=cn.filter((function(e){return!e.path||"*"!=e.path})).map((function(e,t){return{key:t.toString(),icon:e.icon,name:e.name,path:e.path}}));return u.a.createElement(bn,{content:r,siders:n})},On=function(){var e=ln.find((function(e){return e.default})),t=[{path:"/",component:function(){return u.a.createElement(b.a,{to:e.path})},exact:!0}].concat(Object(Le.a)(ln)),r=u.a.createElement(b.d,null,t.map((function(e){return u.a.createElement(b.b,Object.assign({key:e.path},e))}))),n=ln.filter((function(e){return!e.path||"*"!=e.path})).map((function(e,t){return{key:t.toString(),icon:e.icon,name:e.name,path:e.path}}));return u.a.createElement(bn,{content:r,siders:n})},gn=r(243),jn=Object(gn.a)();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _n=function(e){var t,r=Object(Be.c)(s),n=Object(Be.e)(r,Object(Be.a)(jn));return(t=jn).run(K),t.run(_e),t.run(xt),t.run(nr),t.run(Hr),n}();p.a.render(u.a.createElement((function(){return u.a.createElement(E.a,{store:_n},u.a.createElement(f.a,null,u.a.createElement(dn,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[246,1,2]]]);
//# sourceMappingURL=main.d2a67379.chunk.js.map